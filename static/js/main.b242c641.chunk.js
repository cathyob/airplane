(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(55)},32:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(10),o=n.n(r),i=(n(32),n(2)),c=n(3),u=n(7),l=n(4),h=n(8),p=n(9),d=n(5),f=n(6),v=n(22),b=n.n(v),g="https://raw.githubusercontent.com/cathyob/airplane/",w=new(function(){function e(){Object(i.a)(this,e),this.network=b.a.create({baseURL:g})}return Object(c.a)(e,[{key:"getSeats",value:function(){var e=this;return new Promise(function(t,n){e.network.get("master/src/logic/data.json").then(function(e){t(e.data)}).catch(function(e){n(e)})})}}]),e}()),S=function(){function e(){Object(i.a)(this,e),this.seats=[]}return Object(c.a)(e,[{key:"addSeat",value:function(e){this.seats.push(e)}},{key:"sortSeats",value:function(){this.seats.sort(function(e,t){return e.row!==t.row?e.row-t.row:e.seat.localeCompare(t.seat,"en-US")})}},{key:"getSeatsForRow",value:function(e){for(var t=this.seats[0],n=1,a=1;a<this.seats.length;a+=1){var s=this.seats[a];if(t.row!==s.row){n=a;break}}for(var r=(e-1)*n,o=[],i=r;i<r+n;i+=1){var c=this.seats[i];o.push(c)}return this.findAisles(o,t.row+(e-1))}},{key:"findAisles",value:function(e,t){for(var n="A".charCodeAt(0),a=e[e.length-1].seat.charCodeAt(0)-n,s=[],r=0,o=0;o<=a;o++){var i=String.fromCharCode(n+o);e[r].seat!==i?s.push({row:t}):(s.push(e[r]),r+=1)}return s}},{key:"getHighestRow",value:function(){return this.seats[this.seats.length-1].row}},{key:"getRowCount",value:function(){return this.getHighestRow()-this.seats[0].row+1}},{key:"getRowWidth",value:function(){var e="A".charCodeAt(0)-1;return this.seats[this.seats.length-1].seat.charCodeAt(0)-e}},{key:"getClassLevel",value:function(){return this.seats[0].class}}]),e}();function j(){var e=Object(d.a)(["\n    background: none;\n    border: 2px solid DarkGray;\n    box-sizing: border-box;\n    border-radius: 3px;\n    height: 20px;\n    margin: 3px;\n    transition: .3s;\n    width: 20px;\n    &.Available {\n        background: royalblue;\n        cursor: pointer;\n        &:hover {\n            background: pink;\n        }\n    }\n    &.Selected, &.Selected:hover {\n        background: magenta;\n        cursor: default;\n    }\n    &.Aisle {\n        background: none;\n        border: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        margin: 3px 3px;\n        padding: 0;\n    }\n"]);return j=function(){return e},e}var k=f.a.div(j()),y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).selectSeat=n.selectSeat.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"selectSeat",value:function(){this.props.onSelect&&!this.props.data.occupied&&this.props.onSelect(this.props.data.row,this.props.data.seat)}},{key:"render",value:function(){var e=[],t=null;return this.props.data.seat?this.props.data.occupied||e.push("Available"):(e.push("Aisle"),t=this.props.data.row),this.props.selectedSeat&&this.props.selectedSeat.row===this.props.data.row&&this.props.selectedSeat.seat===this.props.data.seat&&e.push("Selected"),s.a.createElement(k,{className:e.join(" "),onClick:this.selectSeat},null!==t?t:null)}}]),t}(a.Component);function O(){var e=Object(d.a)(["\n    background: none;\n    border: 0;\n    box-sizing: border-box;\n    border-radius: 3px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 20px;\n    margin: 3px 3px;\n    padding: 0;\n    transition: .3s;\n    width: 20px;\n"]);return O=function(){return e},e}var m=f.a.div(O()),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"createHeaders",value:function(){for(var e=[],t=0;t<this.props.data.length;t+=1)e.push(s.a.createElement(m,{key:t},this.props.data[t].seat));return e}},{key:"render",value:function(){return this.createHeaders()}}]),t}(a.Component);function C(){var e=Object(d.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n    margin: 32px auto;\n    width: calc(27px * ",");\n    h3 {\n        flex: 100%;\n        text-align: center;\n    }\n"]);return C=function(){return e},e}var A=f.a.div(C(),function(e){return e.rowWidth}),R=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"getSeatsToDraw",value:function(){for(var e=[],t=0;t<this.props.data.getRowCount();t+=1)for(var n=this.props.data.getSeatsForRow(t+1),a=0;a<n.length;a+=1)e.push(s.a.createElement(y,{key:t+" "+a,data:n[a],onSelect:this.props.selectSeat,selectedSeat:this.props.selectedSeat}));return e}},{key:"render",value:function(){return s.a.createElement(A,{className:this.props.data.getClassLevel(),rowWidth:this.props.data.getRowWidth()},s.a.createElement("h3",null,this.props.data.getClassLevel()),s.a.createElement(x,{data:this.props.data.getSeatsForRow(1)}),this.getSeatsToDraw())}}]),t}(a.Component);function E(){var e=Object(d.a)(["\n"]);return E=function(){return e},e}var L=f.a.div(E()),H=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={classLevels:[],selectedSeat:null},n.updateSelectedSeat=n.updateSelectedSeat.bind(Object(p.a)(Object(p.a)(n))),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getSeats().then(function(t){e.sortSeats(t)}).catch(function(e){console.log(e)})}},{key:"updateSelectedSeat",value:function(e,t){this.setState({selectedSeat:{row:e,seat:t}})}},{key:"sortSeats",value:function(e){for(var t=[],n={},a=0;a<e.length;a+=1){var s=e[a];n[s.class]||(n[s.class]=new S),n[s.class].addSeat(s)}for(var r in n){var o=n[r];o.sortSeats(),t.push(o)}t.sort(function(e,t){return e.getHighestRow()-t.getHighestRow()}),this.setState({classLevels:t})}},{key:"render",value:function(){for(var e=[],t=0;t<this.state.classLevels.length;t+=1)e.push(s.a.createElement(R,{key:t,data:this.state.classLevels[t],selectSeat:this.updateSelectedSeat,selectedSeat:this.state.selectedSeat}));return s.a.createElement(L,{className:"App"},e)}}]),t}(a.Component);o.a.render(s.a.createElement(H,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.b242c641.chunk.js.map